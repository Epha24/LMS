{% extends 'librarian/base.html' %}
{% block content %}
    <!-- Main content -->
    <section class="content">
        <div class="row">
          <div class="col-md-3">
            <a href="{% url 'librarian-users' %}" class="btn btn-primary btn-block mb-3"><i class="fa fa-plus"></i> Add User</a>
  
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Manage Users</h3>
  
                <div class="card-tools">
                  <button type="button" class="btn btn-tool" data-card-widget="collapse">
                    <i class="fas fa-minus"></i>
                  </button>
                </div>
              </div>
              <div class="card-body p-0">
                <ul class="nav nav-pills flex-column">
                  <li class="nav-item">
                    <a href="{% url 'librarian-users' %}" class="nav-link">
                      <i class="fas fa-plus"></i> Add User
                    </a>
                  </li>
                  <li class="nav-item act2">
                    <a href="{% url 'update-users' %}" class="nav-link act">
                      <i class="fa fa-edit"></i> Update User
                    </a>
                  </li>
                </ul>
              </div>
              <!-- /.card-body -->
            </div>
          </div>
          <!-- /.col -->
          <div class="col-md-9">
            {% if success_msg == True %}
                <div class="alert alert-success alert-dismissible fade show" role="alert">
                    <center><strong>Updated successfully</strong></center>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {% elif password_error == True %}
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <center><strong>Password do not match!</strong></center>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            {%  endif %}
            <div class="card card-primary card-outline">
              <div class="card-header">
                <h3 class="card-title">Update User</h3>
                <!-- /.card-tools -->
              </div>
              <!-- /.card-header -->
              <div class="card-body">
                {% for info in userinfo %}  
                <form action="/librarian/update_customer/{{ info.id }}" method="POST">{% csrf_token %}    
                    <div class="form-row">
                        <input type="hidden"  name="id" value="{{ info.id }}">
                        <div class="form-group col-sm-6">
                            <label for="labelfname">UserID</label>
                            <input type="text" id="labelfname" name="userID" value="{{ info.uID }}" placeholder="Enter UserID" class="form-control" required>
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="labelfname">First Name</label>
                            <input type="text" id="labelfname" name="fname" value="{{ info.first_name }}" placeholder="Enter first name" class="form-control" required>
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="labellname">Last Name</label>
                            <input type="text" id="labellname" name="lname" value="{{ info.last_name }}" placeholder="Enter last name" class="form-control" required>
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="labelemail">Email</label>
                            <input type="text" id="labelemail" name="email" value="{{ info.email }}" placeholder="Enter Email Address" class="form-control">
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="labelusername">Username</label>
                            <input type="text" id="labelusername" name="username" value="{{ info.username }}" placeholder="Enter username" class="form-control" required>
                        </div>
                        {% comment %} <div class="form-group col-sm-6">
                            <label for="labelpassword">Password</label>
                            <input type="password" id="labelpassword" name="password" value="{{ info.password }}" placeholder="Enter password" class="form-control" required>
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="labelconpass">Confirm Password</label>
                            <input type="password" id="labelconpass" name="confpassword" value="{{ info.password }}" placeholder="Confirm password" class="form-control">
                        </div> {% endcomment %}
                       
                    </div>
                    <input type="submit" name="save" value="Save" class="btn btn-danger">
                    </form> 
                    {% endfor %}
              </div>
              <!-- /.card-body -->
              <div class="card-footer p-0">
                
                </div>
              </div>
            </div>
            <!-- /.card -->
          </div>
          <!-- /.col -->
        </div>
        <!-- /.row -->
      </section>
{% endblock content %}